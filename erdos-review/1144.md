# Review: Erdos Problem 1144

**Problem:** Random completely multiplicative functions and partial sum growth
**Source:** [erdosproblems.com/1144](https://www.erdosproblems.com/1144)
**Status:** OPEN

## Source Problem

Let f be a random completely multiplicative function where each prime p independently has f(p) chosen uniformly from {-1, 1}. Does lim sup_{N->∞} (∑_{m≤N} f(m)) / √N = ∞ almost surely?

Known: Atherfold showed that partial sums are almost surely bounded by N^{1/2}(log N)^{1+o(1)}. Related to Problem #520 (Steinhaus model).

## Current Formalization

```lean
def IsCompletelyMultiplicative (f : ℕ → ℤ) : Prop :=
  f 1 = 1 ∧ ∀ m n : ℕ, f (m * n) = f m * f n

def partialSum (f : ℕ → ℤ) (N : ℕ) : ℤ :=
  ∑ m ∈ Finset.range N, f (m + 1)

@[category research open, AMS 11]
theorem random_multiplicative_function_sums :
    answer(sorry) ↔ ∀ (Ω : Type*) [MeasureSpace Ω] [IsProbabilityMeasure (volume : Measure Ω)]
      (f : Ω → ℕ → ℤ),
      (∀ ω, IsCompletelyMultiplicative (f ω)) →
      (∀ p : ℕ, Nat.Prime p → ∀ ω, f ω p ∈ ({-1, 1} : Set ℤ)) →
      ∀ᵐ ω, ∀ M : ℝ, ∃ᶠ N in Filter.atTop, (partialSum (f ω) N : ℝ) / Real.sqrt N > M := by
  sorry
```

## Critical Analysis

### 1. Helper definitions are correct (GOOD)

`IsCompletelyMultiplicative` correctly requires f(1) = 1 and f(mn) = f(m)f(n) for all m, n. `partialSum` correctly sums f(1) + f(2) + ... + f(N) via the shifted index `f (m + 1)` over `Finset.range N`.

### 2. Universal quantification over probability spaces is too strong (CRITICAL)

The source describes a SPECIFIC probability model: f(p) is uniformly ±1 independently across primes. The formalization universally quantifies `∀ (Ω : Type*) [MeasureSpace Ω] ... (f : Ω → ℕ → ℤ)`, meaning: for ANY probability space and ANY random function satisfying the conditions, the conclusion holds.

This is too strong because:
- The conditions only say `f ω p ∈ {-1, 1}` pointwise, not that f(p) is uniformly distributed
- The conditions say nothing about independence across primes
- The statement must hold even for DETERMINISTIC functions (degenerate probability spaces)

For example, taking f to be the deterministic Liouville function λ(n) = (-1)^{Ω(n)}, the partial sums are notoriously difficult to analyze. Whether lim sup |∑ λ(n)|/√N = ∞ is related to deep conjectures about the Riemann zeta function. Requiring this for all deterministic completely multiplicative ±1 functions makes the statement far stronger than the source.

### 3. Missing uniformity and independence conditions (CRITICAL)

The core probabilistic content — that f(p) is uniform on {-1, 1} and that the values at different primes are independent — is completely absent. Without these, the "randomness" aspect of the problem is lost.

### 4. lim sup captured correctly modulo the above (GOOD)

The conclusion `∀ᵐ ω, ∀ M : ℝ, ∃ᶠ N in Filter.atTop, (partialSum (f ω) N : ℝ) / Real.sqrt N > M` correctly encodes: almost surely, for every bound M, infinitely often the normalized partial sum exceeds M. This is equivalent to lim sup = ∞ a.s., which matches the source.

### 5. answer(sorry) usage is correct (GOOD)

Using `answer(sorry)` for this open problem is appropriate.

### 6. Only positive direction of lim sup (MINOR)

The formalization asks whether the partial sum exceeds any M > 0. The source says "lim sup ... = ∞" which could mean lim sup of |sum|/√N or just sum/√N. The formalization uses the positive direction only. Since f and -f have the same distribution in the uniform model, this is equivalent to lim sup |sum|/√N = ∞. But for the universal quantification (which includes non-symmetric distributions), this distinction matters.

## What a proper formalization would look like

```lean
-- The key challenge is formalizing the specific probability model.
-- One approach: construct the canonical product probability space.
@[category research open, AMS 11]
theorem random_multiplicative_function_sums :
    answer(sorry) ↔
      -- On the canonical probability space (Ω = ∏_p {-1,1} with uniform measure):
      ∀ᵐ (ε : ℕ → ℤ) ∂(MeasureTheory.Measure.pi (fun _ : {p : ℕ // p.Prime} =>
        (PMF.uniformOfFintype (Fin 2)).toMeasure)),
        ∀ M : ℝ, ∃ᶠ N in Filter.atTop,
          (partialSum (completelyMultiplicativeExtension ε) N : ℝ) / Real.sqrt N > M := by
  sorry
```

The proper approach requires constructing the specific probability model, which is nontrivial in Lean/Mathlib.

## Confidence: **40%**

The helper definitions and the conclusion structure (lim sup = ∞ a.s.) are correct. However, the universal quantification over all probability spaces and all random functions — rather than the specific uniform ±1 independent model — fundamentally changes the mathematical content. The statement becomes much stronger than the source problem and may be false for deterministic completely multiplicative functions. Fixing the probability model would bring confidence to ~85%.
