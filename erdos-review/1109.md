# Review: Erdos Problem 1109

**Problem:** Largest squarefree sumset in {1,...,N}
**Source:** [erdosproblems.com/1109](https://www.erdosproblems.com/1109)
**Status:** OPEN

## Source Problem

Let f(N) be the size of the largest subset A of {1,...,N} such that every element of A+A is squarefree. Estimate f(N). In particular, is f(N) <= N^{o(1)}, or even f(N) <= (log N)^{O(1)}?

Known bounds:
- Erdos-Sarkozy: log N << f(N) << N^{3/4} * log N
- Konyagin: log(log N) * (log N)^2 << f(N) << N^{11/15 + o(1)}

## Current Formalization

```lean
theorem squarefree_sumsets :
    ∃ (A B : Set ℕ), (∀ a ∈ A, ∀ b ∈ B, Squarefree (a + b)) ∧
      (∃ c : ℝ, 0 < c ∧ ∀ᶠ n in Filter.atTop,
        ((A ∩ Set.Icc 1 n).ncard : ℝ) / n ≥ c) := by
  sorry
```

## Critical Analysis

### 1. Wrong mathematical problem entirely (CRITICAL)

The source asks about f(N) = max |A| where A is a subset of {1,...,N} with A+A squarefree (i.e., A+A, the sumset of A with itself). The formalization instead asks about two different sets A and B where all cross-sums a+b are squarefree, and A has positive density. These are fundamentally different problems:
- Source: single set A, sumset A+A = {a+a' : a,a' in A}, maximize |A| within {1,...,N}
- Formalization: two sets A, B, cross-sums a+b squarefree, A has positive density

### 2. Positive density is wrong (CRITICAL)

The source asks whether f(N) <= N^{o(1)} or even f(N) <= (log N)^{O(1)}, suggesting that f(N) grows very slowly -- much slower than any power of N. The formalization asserts the existence of a set with positive density (|A ∩ {1,...,n}| / n >= c > 0), meaning |A ∩ {1,...,n}| grows linearly. This contradicts the spirit of the problem: the known upper bound f(N) << N^{11/15+o(1)} shows f(N) is sublinear.

### 3. Not about f(N) at all (CRITICAL)

The core of the problem is to estimate the function f(N). The formalization does not define or mention f(N). There are no upper or lower bounds. The statement does not capture any aspect of the extremal question.

### 4. Two sets A, B instead of A+A (CRITICAL)

The source explicitly considers A+A (the sumset of A with itself). The formalization uses two distinct sets A and B, computing A+B instead of A+A. Even if A = B were forced, the formalization structure is wrong.

### 5. Statement is trivially true (CRITICAL)

Take A = {1, 3, 5, 7, ...} (odd numbers) and B = {1}. Then for all a in A and b in B, a + b is even but potentially squarefree. Better: take A = N and B = {0}. Then a + 0 = a, and we just need infinitely many squarefree numbers, which is true since 6/pi^2 fraction of integers are squarefree. So A = all squarefree numbers has positive density 6/pi^2, and B = {0}. This makes the statement trivially true (though 0 may not be in {1,...,n}). Even simpler constructions work.

## What a proper formalization would look like

```lean
/-- f(N) = the size of the largest A ⊆ {1,...,N} with A+A squarefree. -/
noncomputable def f (N : ℕ) : ℕ :=
  sSup {k | ∃ A : Finset ℕ, A ⊆ Finset.Icc 1 N ∧ A.card = k ∧
    ∀ a ∈ A, ∀ b ∈ A, Squarefree (a + b)}

/-- Lower bound: f(N) >> (log N)^2 * log(log N) (Konyagin). -/
@[category research solved, AMS 11]
theorem squarefree_sumsets_lower :
    ∃ c > 0, ∀ᶠ N in atTop,
      c * (Real.log N)^2 * Real.log (Real.log N) ≤ (f N : ℝ) := by sorry

/-- Upper bound: f(N) << N^{11/15 + o(1)} (Konyagin). -/
@[category research solved, AMS 11]
theorem squarefree_sumsets_upper :
    ∀ ε > 0, ∃ C > 0, ∀ᶠ N in atTop,
      (f N : ℝ) ≤ C * (N : ℝ) ^ (11/15 + ε) := by sorry

/-- Open: Is f(N) ≤ N^{o(1)}? -/
@[category research open, AMS 11]
theorem squarefree_sumsets_subpolynomial :
    answer(sorry) ↔ ∀ ε > 0, ∃ C > 0, ∀ᶠ N in atTop,
      (f N : ℝ) ≤ C * (N : ℝ) ^ ε := by sorry
```

## Confidence: **3%**

The formalization addresses a completely different problem from the source. It uses two sets instead of a sumset A+A, asks for positive density instead of slow growth bounds, does not define the extremal function f(N), and the resulting statement is trivially true. Essentially none of the mathematical content of the original problem is captured.
