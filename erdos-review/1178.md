# Review: Erdos Problem 1178

**File:** `FormalConjectures/ErdosProblems/1178.lean`
**Source:** [erdosproblems.com/1178](https://www.erdosproblems.com/1178)
**Status:** OPEN

## Original Problem

For $r \ge 3$, let $d_r(e)$ denote the minimum $d$ such that $\text{ex}_r(n, \mathcal{F}) = o(n^2)$, where $\mathcal{F}$ is the family of $r$-uniform hypergraphs on $d$ vertices with $e$ edges.

Here $\text{ex}_r(n, \mathcal{F})$ is the extremal number: the maximum number of hyperedges in an $r$-uniform hypergraph on $n$ vertices that contains no member of $\mathcal{F}$ as a subhypergraph.

**Conjecture (Brown-Erdos-Sos):** $d_r(e) = (r-2)e + 3$ for all $r, e \ge 3$.

Known: Brown, Erdos, and Sos established the lower bound $d_r(e) \ge (r-2)e + 3$. The conjecture asserts this lower bound is tight.

## Current Formalization

```lean
theorem brown_erdos_sos_conjecture :
    ∀ (r e : ℕ), r ≥ 3 → e ≥ 3 →
      ∃ (d_r : ℕ → ℕ), d_r e = (r - 2) * e + 3 ∧
        ∀ (d : ℕ), d < d_r e →
          ∃ (ex_r : ℕ → ℕ), (fun n => (ex_r n : ℝ)) =o[atTop] (fun n => (n : ℝ)^2) := by
  sorry
```

## Analysis

### What the formalization captures

| Aspect | Captured? | Notes |
|--------|-----------|-------|
| Statement format (not question) | Yes | This is a conjecture ("Prove that..."), so statement format is correct |
| Conjectured formula $(r-2)e + 3$ | Yes | `d_r e = (r - 2) * e + 3` is present |
| Bounds on parameters $r, e \ge 3$ | Yes | `r ≥ 3 → e ≥ 3 →` |
| Asymptotic $o(n^2)$ notation | Partially | Uses `=o[atTop]` correctly in isolation |
| Category/AMS tag | Yes | `@[category research open, AMS 05]` (Combinatorics) is appropriate |

### Critical issues

1. **Logical direction is inverted:** The formalization states that for $d < d_r(e)$, the extremal function is $o(n^2)$. The original problem says the opposite:
   - $d = d_r(e)$: $\text{ex}_r(n, \mathcal{F}) = o(n^2)$ (the threshold is achieved)
   - $d < d_r(e)$: $\text{ex}_r(n, \mathcal{F}) \ne o(n^2)$ (below the threshold, density is at least quadratic)

   The formalization has the implication backwards.

2. **Trivially true due to existential quantifiers (Critical):** The statement asserts `∃ (d_r : ℕ → ℕ), d_r e = (r - 2) * e + 3 ∧ ...`. This is trivially satisfiable — just define `d_r(x) = (r-2)*x + 3`. Furthermore, `∃ (ex_r : ℕ → ℕ), ex_r =o[atTop] ...` is always satisfiable (e.g., the zero function). The entire statement is trivially `True` with no mathematical content.

3. **No definition of the extremal number:** The problem defines $\text{ex}_r(n, \mathcal{F})$ as the maximum number of edges in an $r$-uniform hypergraph on $n$ vertices avoiding all members of $\mathcal{F}$. This is a specific, well-defined quantity. The formalization introduces `∃ (ex_r : ℕ → ℕ)` which is an arbitrary function unconnected to any extremal problem.

4. **No definition of the forbidden family $\mathcal{F}$:** The family $\mathcal{F}$ of $r$-uniform hypergraphs on $d$ vertices with $e$ edges is the central object and is entirely absent.

5. **No definition of subhypergraph containment:** The extremal number requires defining when one hypergraph is a subhypergraph of another.

### What a more faithful formalization would need

The conjecture involves a chain of definitions:

1. **$r$-uniform hypergraph:** A set of $r$-element subsets of a vertex set
2. **Subhypergraph containment:** An injection of vertices preserving edges
3. **$\mathcal{F}(r, d, e)$:** The family of $r$-uniform hypergraphs on $d$ vertices with exactly $e$ edges
4. **$\text{ex}_r(n, \mathcal{F})$:** The maximum number of edges in an $r$-uniform hypergraph on $n$ vertices containing no member of $\mathcal{F}$
5. **$d_r(e)$:** The minimum $d$ such that $\text{ex}_r(n, \mathcal{F}(r,d,e)) = o(n^2)$
6. **Conjecture:** $d_r(e) = (r-2)e + 3$

All six layers are needed. The current formalization only references the formula in layer 6 and mentions $o(n^2)$ from layer 5, but the definitions in layers 1-5 are absent or replaced by trivially satisfiable existentials.

## Verdict

**Confidence: 5%**

The formalization is trivially true. Both the existential over `d_r` and the existential over `ex_r` can be instantiated without any connection to extremal combinatorics. Additionally, the logical direction of the $o(n^2)$ condition is inverted (should apply at the threshold, not below it). The conjectured formula $(r-2)e + 3$ is correctly stated but disconnected from any meaningful mathematical content.
