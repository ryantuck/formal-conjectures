# Review: Erdos Problem 1111

**Problem:** Chromatic number and anticomplete vertex sets
**Source:** [erdosproblems.com/1111](https://www.erdosproblems.com/1111)
**Status:** OPEN

## Source Problem

If t, c >= 1, then there exists d >= 1 such that if chi(G) >= d and omega(G) < t (where chi is chromatic number and omega is clique number), then there exist anticomplete (disjoint, no edges between them) sets A, B with chi(G[A]) >= chi(G[B]) >= c, where G[A] and G[B] are the induced subgraphs.

Known results include d(2,2) = 2, d(3,2) = 4, d(4,2) = 5, and d(t,2) <= C(t,2) + 1.

## Current Formalization

```lean
/-- For any t, c >= 1, there exists d such that any graph with
    chi(G) >= d and omega(G) < t contains anticomplete sets A, B
    with chi(G[A]) >= c and chi(G[B]) >= c -/
@[category research open, AMS 05]
theorem chromatic_anticomplete :
    ∀ (t c : ℕ), 1 ≤ t → 1 ≤ c →
      ∃ (d : ℕ), ∀ (V : Type*) [Fintype V] [DecidableEq V]
        (G : SimpleGraph V) [DecidableRel G.Adj],
          G.chromaticNumber ≥ d →
          G.cliqueNum < t →
          ∃ (A B : Finset V), Disjoint A B ∧
            (∀ a ∈ A, ∀ b ∈ B, ¬G.Adj a b) ∧
            (G.induce (↑A)).chromaticNumber ≥ c ∧
            (G.induce (↑B)).chromaticNumber ≥ c := by
  sorry
```

## Critical Analysis

### 1. Quantifier structure is correct (GOOD)

The formalization has `∀ (t c : ℕ), 1 ≤ t → 1 ≤ c → ∃ (d : ℕ), ∀ ... G ...`, which exactly matches the source's "for any t, c >= 1, there exists d >= 1 such that for all graphs G...". The nesting of quantifiers is faithful.

### 2. Chromatic number hypothesis is correct (GOOD)

`G.chromaticNumber ≥ d` correctly requires the chromatic number of G to be at least d.

### 3. Clique number bound is correct (GOOD)

`G.cliqueNum < t` correctly bounds the clique number below t, matching omega(G) < t from the source.

### 4. Anticomplete condition is correct (GOOD)

The formalization requires `Disjoint A B` (the sets are disjoint) and `∀ a ∈ A, ∀ b ∈ B, ¬G.Adj a b` (no edges between A and B). Together these correctly capture the "anticomplete" condition from the source.

### 5. Chromatic number of induced subgraphs is correct (GOOD)

`(G.induce (↑A)).chromaticNumber ≥ c` and `(G.induce (↑B)).chromaticNumber ≥ c` correctly require the induced subgraphs on A and B to have high chromatic number, matching chi(G[A]) >= c and chi(G[B]) >= c. The coercion `↑A` from `Finset V` to `Set V` for the `induce` function is appropriate.

### 6. Source says chi(G[A]) >= chi(G[B]) >= c, formalization says both >= c (MINOR)

The source states chi(G[A]) >= chi(G[B]) >= c, which implies an ordering between the two chromatic numbers. The formalization only requires both to be >= c, without the ordering. Since the conclusion can always be achieved by relabeling A and B (swap if needed so that chi(G[A]) >= chi(G[B])), this is a cosmetic difference. The formalization's version is equivalent in practice: if you find A, B with both >= c, you can always order them. So this is not a mathematical issue.

### 7. Availability of Mathlib API (MODERATE concern)

The formalization uses `G.chromaticNumber`, `G.cliqueNum`, and `G.induce`. These need to exist in Mathlib or be defined locally. From the codebase search, `cliqueNum` appears in other Erdos problem files (627, 636, 805), and `chromaticNumber` is used in many files. `SimpleGraph.induce` exists in the Mathlib-related file `FormalConjecturesForMathlib/Combinatorics/SimpleGraph/Coloring.lean`. So these APIs likely exist and the formalization should compile.

### 8. Type-level quantification (GOOD)

Quantifying over `V : Type*` with `[Fintype V]` is the correct Lean 4 idiom for "for all finite graphs." The `[DecidableEq V]` and `[DecidableRel G.Adj]` instances are needed for the computable parts of the Mathlib API.

### 9. d >= 1 not explicitly required (MINOR)

The source says "there exists d >= 1." The formalization has `∃ (d : ℕ)` without requiring d >= 1. Since d = 0 would make `G.chromaticNumber ≥ 0` vacuously true for all graphs, a d = 0 solution would require the conclusion to hold for all graphs with omega(G) < t, which is a very strong statement. In practice, the interesting case is d >= 1, and the absence of d >= 1 makes the statement slightly stronger (easier to satisfy trivially with d = 0 only if the conclusion already holds universally). But since `chromaticNumber ≥ 0` is always true for ℕ, d = 0 would indeed force the conclusion for all graphs, making the statement stronger than intended. However, this is fine: if the conjecture holds for some d >= 1, it trivially also provides a valid existential witness.

Actually, wait -- if d = 0, then the hypothesis `G.chromaticNumber ≥ 0` is always true, so the conclusion must hold for ALL graphs with omega(G) < t. That is a much stronger claim. In practice, the conjecture is about the existence of some d (possibly very large), so allowing d = 0 does not weaken the existential statement. If d = 0 works, great; if not, a larger d can be used. The existential quantifier handles this correctly.

## What a proper formalization would look like

The current formalization is excellent. It is essentially the model formalization from the previous review's "What a proper formalization would look like" section, implemented correctly.

```lean
-- The current formalization is already very good. No significant changes needed.
-- The only possible refinement is adding the ordering chi(G[A]) >= chi(G[B]):
--   ... ∧ (G.induce (↑A)).chromaticNumber ≥ (G.induce (↑B)).chromaticNumber ∧
--       (G.induce (↑B)).chromaticNumber ≥ c
-- But this is equivalent to the current version up to relabeling.
```

## Confidence: **90%**

The rewritten formalization is a dramatic improvement over the original. Every component of the source problem is faithfully captured: the quantifier structure (for all t, c, there exists d), the chromatic number hypothesis, the clique number bound, the anticomplete condition (disjoint + no edges between), and the chromatic number conclusions on induced subgraphs. The type-level quantification over finite graphs is idiomatic. The only minor gaps are the missing ordering between chi(G[A]) and chi(G[B]) (cosmetic) and the lack of an explicit d >= 1 requirement (mathematically harmless). This is a high-quality formalization.
