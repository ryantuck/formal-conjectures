# Review: Erdos Problem 1174

**File:** `FormalConjectures/ErdosProblems/1174.lean`
**Source:** [erdosproblems.com/1174](https://www.erdosproblems.com/1174)
**Status:** OPEN

## Original Problem

Two questions of Erdos and Hajnal:

1. Does there exist a graph $G$ with no $K_4$ such that every edge coloring of $G$ with countably many colors contains a monochromatic $K_3$?

2. Does there exist a graph $G$ with no $K_{\aleph_1}$ such that every edge coloring of $G$ with countably many colors contains a monochromatic $K_{\aleph_0}$?

Shelah proved that a graph with either property can consistently exist.

## Current Formalization

```lean
theorem graph_coloring_monochromatic_cliques_question1 :
    answer(sorry) ↔
      ∃ (V : Type*) (G : SimpleGraph V),
        (∀ (K4 : Finset V), K4.card = 4 → ¬G.IsClique (K4 : Set V)) ∧
        (∀ (coloring : Sym2 V → ℕ),
          ∃ (K3 : Finset V) (c : ℕ), K3.card = 3 ∧ G.IsClique (K3 : Set V) ∧
            ∀ e ∈ K3.sym2, coloring e = c) := by
  sorry
```

## Analysis

### What the formalization captures

| Aspect | Captured? | Notes |
|--------|-----------|-------|
| Question format | Yes | `answer(sorry) ↔` |
| Existence of graph G | Yes | `∃ (V : Type*) (G : SimpleGraph V)` |
| K₄-free condition | Yes | `K4.card = 4 → ¬G.IsClique` is correct |
| Countable edge coloring | Yes | `Sym2 V → ℕ` (ℕ gives countably many colors) |
| Monochromatic K₃ | Yes | 3-element clique with all edges same color |
| Category/AMS tag | Yes | `@[category research open, AMS 03]` |

### Issues

1. **Only question 1 of 2 formalized:** The docstring mentions both questions but the theorem only addresses question 1. Question 2 involves uncountable cliques ($K_{\aleph_1}$, $K_{\aleph_0}$) which would need additional infrastructure. The note acknowledges this limitation.

2. **Coloring domain is all pairs, not just edges:** The coloring is `Sym2 V → ℕ`, which assigns a color to every pair of vertices, not just edges of G. However, since the conclusion only examines colors of pairs within a clique of G (which are all edges), and any edge coloring can be extended to all pairs, this is **equivalent** to the original formulation. A coloring restricted to non-edges doesn't affect whether a monochromatic triangle exists among edges.

3. **Monochromatic condition uses K3.sym2:** The condition `∀ e ∈ K3.sym2, coloring e = c` checks that all pairs from K3 have the same color. For a 3-element set, `K3.sym2` gives all 3 pairs. Since `G.IsClique (K3 : Set V)` ensures all pairs are edges, this correctly captures "monochromatic triangle in G."

### Good aspects

- Uses Mathlib's `SimpleGraph` and `IsClique` appropriately
- The K₄-free condition is clean and correct
- The monochromatic triangle condition with an explicit color witness is well-structured
- The coloring over Sym2 V → ℕ is a natural encoding of countable edge coloring

## Verdict

**Confidence: 55%**

This is one of the stronger formalizations in this batch. Question 1 is faithfully captured: a K₄-free graph where every countable edge coloring yields a monochromatic triangle. The main limitation is that question 2 (involving uncountable cliques) is omitted. The coloring domain (all pairs vs. just edges) is technically equivalent due to how the monochromatic condition is stated.
