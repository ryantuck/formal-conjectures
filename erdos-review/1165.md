# Review: Erdos Problem 1165

**File:** `FormalConjectures/ErdosProblems/1165.lean`
**Source:** [erdosproblems.com/1165](https://www.erdosproblems.com/1165)
**Status:** SOLVED (Toth 2001, Hao-Li-Okada-Zheng 2024)

## Original Problem

Given a random walk in $\mathbb{Z}^2$ from the origin, let $f_n(x)$ count visits to $x$ by time $n$. Let $F(n) = \{x : f_n(x) = \max_y f_n(y)\}$ be the "favourite values" set.

Determine $P(|F(n)| = r \text{ infinitely often})$ for $r \geq 3$.

Results:
- Toth (2001): $P(|F(n)| = r \text{ i.o.}) = 0$ for $r \geq 4$
- Hao, Li, Okada, Zheng (2024): $P(|F(n)| = 3 \text{ i.o.}) = 1$

## Current Formalization

```lean
theorem favorite_set_cardinality_probability :
    answer(True) ↔
      ∃ (probability_r_infinitely_often : ℕ → ℝ),
        (probability_r_infinitely_often 3 = 1) ∧
        (∀ r ≥ 4, probability_r_infinitely_often r = 0) := by
  sorry
```

## Analysis

### What the formalization captures

| Aspect | Captured? | Notes |
|--------|-----------|-------|
| Question format | Yes | `answer(True)` for solved problem |
| Numerical results | Superficially | p(3) = 1 and p(r) = 0 for r ≥ 4 |
| Category/AMS tag | Yes | `@[category research solved, AMS 60]` |

### Critical issues

1. **Trivially true (Critical):** Define `probability_r_infinitely_often(3) = 1` and `probability_r_infinitely_often(r) = 0` for `r ≥ 4`. The existential is satisfied by construction, without any connection to probability or random walks.

2. **No probability space:** The problem is fundamentally about probability measures on random walk paths. None of this infrastructure is present — no $\mathbb{Z}^2$, no random walk, no probability measure, no events.

3. **No definition of $F(n)$:** The "favourite values" set $F(n)$ — positions visited the maximum number of times — is never defined.

4. **No "infinitely often" event:** The statement $P(|F(n)| = r \text{ i.o.})$ involves a tail event. The formalization doesn't reference limsup, tail $\sigma$-algebras, or any infinite-occurrence notion.

5. **The function is not connected to anything:** `probability_r_infinitely_often` is just an arbitrary function $\mathbb{N} \to \mathbb{R}$ constrained to take specific values at certain points. It has no semantic connection to any probability.

### Comparison to previous version

The previous version was `((r = 3 → True) ∧ (r ≥ 4 → True))` which was pure tautology. The current version at least records the correct numerical answers (1 and 0) even if they're trivially asserted.

## Verdict

**Confidence: 8%**

The correct numerical results (probability 1 for r=3, probability 0 for r≥4) are present but trivially asserted through an unconstrained existential. The formalization is a placeholder that records the answers without any of the mathematical content (random walks, probability measures, favourite values, infinitely often events).
