# Review: Erdos Problem 1108

**Problem:** Powers and powerful numbers in sums of distinct factorials
**Source:** [erdosproblems.com/1108](https://www.erdosproblems.com/1108)
**Status:** OPEN

## Source Problem

Let A = { sum_{n in S} n! : S subset N, S finite } be the set of all sums of distinct factorials.

Two questions:
1. If k >= 2, does A contain only finitely many k-th powers?
2. Does A contain only finitely many powerful numbers?

Known: Brindza-Erdos showed that for any r, if n_1! + ... + n_r! is powerful, then n_1 is bounded (depending on r).

## Current Formalization

```lean
def FactorialSums : Set ℕ :=
  {m : ℕ | ∃ S : Finset ℕ, m = ∑ n ∈ S, n.factorial}

def IsPowerful (n : ℕ) : Prop :=
  ∀ p : ℕ, p.Prime → p ∣ n → p ^ 2 ∣ n

theorem erdos_1108.k_th_powers : answer(sorry) ↔ ∀ k ≥ 2,
    Set.Finite { a | a ∈ FactorialSums ∧ ∃ m : ℕ, m ^ k = a } := by sorry

theorem erdos_1108.powerful_numbers :
     answer(sorry) ↔ {a ∈ FactorialSums | IsPowerful a}.Finite := by sorry
```

## Critical Analysis

### 1. FactorialSums definition is correct (OK)

The set `{m : ℕ | ∃ S : Finset ℕ, m = ∑ n ∈ S, n.factorial}` correctly defines A as the set of all sums of distinct factorials. Using `Finset ℕ` ensures the subsets are finite and the elements are distinct (Finset has no duplicates). The sum `∑ n ∈ S, n!` gives the sum of n! over all n in S.

### 2. IsPowerful definition is correct (OK)

`IsPowerful n` says for all primes p, if p divides n then p^2 divides n. This is the standard definition of a powerful (squareful) number. Note that the codebase also has `Nat.Powerful` (which is `Nat.Full 2`), but the local definition here is equivalent and perhaps more explicit.

### 3. k-th powers question correctly stated (OK)

The statement `∀ k ≥ 2, Set.Finite { a | a ∈ FactorialSums ∧ ∃ m : ℕ, m ^ k = a }` says: for every k >= 2, there are only finitely many elements of A that are perfect k-th powers. This matches the source question exactly.

### 4. Powerful numbers question correctly stated (OK)

The statement `{a ∈ FactorialSums | IsPowerful a}.Finite` says: the set of powerful numbers in A is finite. This matches the source question.

### 5. answer(sorry) usage is appropriate (OK)

Both questions are open yes/no questions ("does A contain only finitely many...?"), so `answer(sorry)` is the correct pattern. If the answer is "yes, only finitely many," then `answer(True)` would be the resolution.

### 6. Status annotation correctly says OPEN (OK)

Both use `@[category research open, AMS 11]`, matching the source.

### 7. IsPowerful could use existing Nat.Powerful (MINOR)

The codebase already defines `Nat.Powerful` as `(2).Full`, which is equivalent. Using the existing definition would be more consistent, but the local definition is mathematically correct and perhaps clearer.

### 8. FactorialSums includes 0 (MINOR)

When S is the empty set, the sum is 0, so 0 is in FactorialSums. 0 is trivially a k-th power (0 = 0^k) for all k >= 2. It is also vacuously powerful (no prime divides 0... actually, in Lean/Mathlib, every prime divides 0, so IsPowerful 0 requires p^2 | 0 for all primes p, which is true since everything divides 0). So 0 is both a k-th power and powerful in A. The source presumably means positive sums, but having one extra element (0) does not affect finiteness. This is a non-issue.

## What a proper formalization would look like

The current formalization is already excellent. Minor suggestions:

```lean
-- Could use the existing Nat.Powerful instead of a local definition:
theorem erdos_1108.powerful_numbers' :
     answer(sorry) ↔ {a ∈ FactorialSums | Nat.Powerful a}.Finite := by sorry
```

## Confidence: **93%**

This is an excellent formalization. The FactorialSums set is correctly defined using Finset for distinct subsets, the IsPowerful definition matches the standard notion, both questions are faithfully captured with the correct answer elaborator pattern, and the status is correctly marked as open. The only minor notes are the redundancy of the local IsPowerful definition with Nat.Powerful and the inclusion of 0 in FactorialSums (which is harmless).
