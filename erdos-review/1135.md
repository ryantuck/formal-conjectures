# Review: Erdos Problem 1135

**Problem:** The Collatz Conjecture (3x+1 problem)
**Source:** [erdosproblems.com/1135](https://www.erdosproblems.com/1135)
**Status:** OPEN

## Source Problem

Define f : N -> N by f(n) = n/2 if n is even, f(n) = (3n+1)/2 if n is odd. Given any integer m >= 1, does there exist k >= 1 such that f^{(k)}(m) = 1?

Note: The erdosproblems.com formulation uses the "shortcut" Collatz function where the odd step applies (3n+1)/2 rather than the standard 3n+1 followed by division by 2.

## Current Formalization

```lean
-- From CollatzConjecture.lean:
def collatzStep (n : ℕ) : ℕ :=
  if Even n then n / 2 else 3 * n + 1

-- From 1135.lean:
@[category research open, AMS 11 37]
theorem erdos_1135 : type_of% CollatzConjecture.collatz_conjecture := by sorry
```

Where `collatz_conjecture` is:
```lean
theorem collatz_conjecture (n : ℕ) (hn : n > 0) : ∃ m, collatzStep^[m] n = 1 := by sorry
```

## Critical Analysis

### 1. Standard vs shortcut Collatz function (MINOR)

The erdosproblems.com page defines f(n) = (3n+1)/2 for odd n (the shortcut version), while the formalization uses `3 * n + 1` for odd n (the standard version). These are equivalent in terms of eventual convergence to 1, since the standard version produces 3n+1 (which is even) and then divides by 2 on the next step. Both formulations capture the same conjecture.

### 2. Excellent use of type_of% (MINOR positive)

The formalization correctly references an existing Wikipedia formalization of the Collatz conjecture using `type_of%`, avoiding duplication and ensuring consistency.

### 3. Statement is mathematically correct (MINOR positive)

The statement `∀ n > 0, ∃ m, collatzStep^[m] n = 1` is the standard Collatz conjecture. The iteration `collatzStep^[m]` correctly applies the function m times.

### 4. Correct status and metadata (MINOR positive)

The problem is correctly marked as open with appropriate AMS classifications (11 for number theory, 37 for dynamical systems).

### 5. Not originally an Erdos problem (MINOR note)

The source page notes this is not originally an Erdos problem but was included as Problem E16 in Guy's collection. Erdos commented on it famously but did not pose it. This is a cataloging issue, not a formalization issue.

## What a proper formalization would look like

The current formalization is essentially correct. No changes needed.

```lean
-- Current formalization is good as-is
@[category research open, AMS 11 37]
theorem erdos_1135 : type_of% CollatzConjecture.collatz_conjecture := by sorry
```

## Confidence: **95%**

The formalization is an accurate statement of the Collatz conjecture. The only minor difference is the standard vs shortcut Collatz step, which does not affect the mathematical content. The use of `type_of%` to reference an existing formalization is clean and correct.
