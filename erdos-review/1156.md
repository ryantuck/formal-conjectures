# Review: Erdos Problem 1156

**Problem:** Concentration of chromatic number in random graphs
**Source:** [erdosproblems.com/1156](https://www.erdosproblems.com/1156)
**Status:** OPEN

## Source Problem

Let G be a random graph on n vertices where each edge is included independently with probability 1/2. Two questions:

**Q1**: Does there exist a constant C such that χ(G) is almost surely concentrated on at most C values?

**Q2**: For ω(n) → ∞ sufficiently slowly, is it true that for every function f(n), P(|χ(G) - f(n)| < ω(n)) < 1/2 for large n?

Known: Bollobás proved χ(G) ~ n/(2 log₂ n) w.h.p. Shamir-Spencer showed concentration when ω(n)·log n/√n → ∞. Heckel proved that if P(|χ(G) - f(n)| < ω(n)) → 1, then ω(n) > n^c for infinitely many n (any c < 1/4), improved to c < 1/2 by Heckel-Riordan.

## Current Formalization

### Theorem 1 (chromatic_concentration_bounded_range)

```lean
theorem chromatic_concentration_bounded_range :
    answer(sorry) ↔
      (∃ (C : ℕ), ∀ᶠ (n : ℕ) in atTop,
        ∃ (S : Finset ℕ∞), S.card ≤ C ∧
          ∀ (G : SimpleGraph (Fin n)), G.chromaticNumber ∈ S) := by
  sorry
```

### Theorem 2 (chromatic_resists_concentration)

```lean
theorem chromatic_resists_concentration :
    answer(sorry) ↔
      ∀ (ω : ℕ → ℝ), (∀ᶠ (n : ℕ) in atTop, ω n > 0) →
      Tendsto ω atTop atTop →
      ∀ (f : ℕ → ℕ∞), ∃ᶠ (n : ℕ) in atTop,
        ∃ (G : SimpleGraph (Fin n)), True := by
  sorry
```

## Critical Analysis

### Q1: Quantifies over ALL graphs instead of random graphs (CRITICAL)

`∀ (G : SimpleGraph (Fin n)), G.chromaticNumber ∈ S` says: for EVERY graph on n vertices, the chromatic number lies in S. This is trivially false for n ≥ 3, since χ can take values 1, 2, ..., n.

The problem asks about the Erdős-Rényi random graph G(n, 1/2). The correct formulation would involve a probability measure on SimpleGraph (Fin n) and assert that P(χ(G) ∈ S) → 1. Without the random graph model, the statement is meaningless.

### Q2: Completely vacuous (CRITICAL)

The conclusion `∃ (G : SimpleGraph (Fin n)), True` is trivially true for any n ≥ 1 (the empty graph exists). The entire probabilistic content — P(|χ(G) - f(n)| < ω(n)) < 1/2 — is missing.

This theorem is provable as written:
```lean
  exact ⟨fun _ => ..., fun _ => ...⟩  -- True is trivially satisfiable
```

### Missing: Erdős-Rényi random graph model (CRITICAL)

Both theorems fundamentally require G(n, 1/2) — the random graph where each edge appears independently with probability 1/2. This requires:
- A probability space on `SimpleGraph (Fin n)`
- Independent Bernoulli(1/2) for each edge
- Probability statements about chromatic number

### Using ℕ∞ for chromatic number is correct (MINOR POSITIVE)

`G.chromaticNumber` in Mathlib returns `ℕ∞`, so using `Finset ℕ∞` and `ℕ∞` in the formulations is type-correct. For finite graphs on Fin n, the chromatic number is always finite (≤ n), but the type system requires ℕ∞.

## What proper formalizations would need

This is inherently a probabilistic problem. A minimal approach:

```lean
-- Q1: Concentration on C values
theorem chromatic_concentration_bounded_range :
    answer(sorry) ↔
      ∃ (C : ℕ), ∀ᶠ (n : ℕ) in atTop,
        ∃ (S : Finset ℕ∞), S.card ≤ C ∧
          -- P(χ(G(n,1/2)) ∈ S) → 1
          erdosRenyiProb n (1/2) {G | G.chromaticNumber ∈ S} > 1 - 1/n := by
  sorry
```

## Confidence: **3%**

Q1 quantifies over all graphs instead of random graphs (trivially false). Q2 is completely vacuous. Both theorems miss the entire probabilistic substance of the problem.
