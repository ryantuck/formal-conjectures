# Review: Erdos Problem 1103

**Problem:** Growth rate of sequences with squarefree sumsets
**Source:** [erdosproblems.com/1103](https://www.erdosproblems.com/1103)
**Status:** OPEN

## Source Problem

Let A be an infinite sequence of integers such that every element of A+A is squarefree. How fast must A grow?

Known bounds:
- Lower bound (van Doorn-Tao 2025): a_j > 0.24 * j^{4/3}
- Upper bound (van Doorn-Tao 2025): there exists such a sequence with a_j < exp(5j/log j) for all large j
- Finite case lower bound (Konyagin 2004): a_j >> j^{15/11-o(1)}

## Current Formalization

```lean
/-- Lower bound on growth: any infinite sequence with squarefree sumset
    must grow at least as fast as j^{4/3}. -/
@[category research open, AMS 11]
theorem squarefree_sumset_growth_lower :
    ∀ (A : ℕ → ℕ), StrictMono A →
      (∀ i j, Squarefree (A i + A j)) →
        ∃ c > 0, ∀ᶠ j in atTop, (A j : ℝ) ≥ c * (j : ℝ) ^ ((4 : ℝ) / 3) := by
  sorry

/-- Upper bound on growth: there exists an infinite squarefree-sumset sequence
    growing at most exponentially (sub-exponentially in a precise sense). -/
@[category research open, AMS 11]
theorem squarefree_sumset_growth_upper :
    ∃ (A : ℕ → ℕ), StrictMono A ∧
      (∀ i j, Squarefree (A i + A j)) ∧
        ∀ᶠ j in atTop, (A j : ℝ) < Real.exp (5 * j / Real.log j) := by
  sorry
```

## Critical Analysis

### 1. Correct mathematical object (GOOD)

The formalization uses `A : ℕ → ℕ` with `StrictMono A`, correctly modeling an infinite strictly increasing sequence of natural numbers. This matches the source problem's A = {a_1 < a_2 < ...}.

### 2. Squarefree sumset condition is correct (GOOD)

`∀ i j, Squarefree (A i + A j)` correctly requires every pairwise sum to be squarefree, capturing the condition that every element of A+A is squarefree. This quantifies over all pairs (i, j), including i = j, which gives 2*a_i. This is correct since A+A includes sums a_i + a_j for all i, j.

### 3. Lower bound statement analysis (GOOD, with minor caveat)

The lower bound states: for any such sequence, there exists c > 0 such that eventually A(j) >= c * j^{4/3}. This matches the van Doorn-Tao result a_j > 0.24 * j^{4/3}. The constant 0.24 is a specific value; the formalization abstracts this to an existential c > 0, which is a slightly weaker but perfectly reasonable encoding.

### 4. Upper bound statement analysis (GOOD, with minor caveat)

The upper bound states: there exists a strictly increasing squarefree-sumset sequence with A(j) < exp(5j/log j) eventually. This directly matches the van Doorn-Tao result. One subtlety: `Real.log j` when j = 0 or j = 1 yields non-positive values, but since this is guarded by `∀ᶠ j in atTop`, this is fine -- for large j, Real.log j is well-behaved.

### 5. The source also mentions Konyagin's stronger finite-case bound (MINOR)

Konyagin's bound a_j >> j^{15/11-o(1)} is stronger than j^{4/3} (since 15/11 > 4/3). However, this applies to the finite case. The formalization captures the infinite-case bounds from van Doorn-Tao, which is a reasonable choice. The finite-case variant could be a separate theorem but its absence is not a significant issue.

### 6. Problem split into two theorems is appropriate (GOOD)

The source problem asks "how fast must A grow?" which naturally splits into lower and upper bounds. Having separate theorems for each is clean and appropriate.

### 7. Both tagged as "open" (MINOR concern)

Both bounds are stated as known results (van Doorn-Tao 2025). Tagging them as `research open` is slightly misleading since these specific bounds are proved. However, the overarching question "how fast must A grow?" remains open (the gap between polynomial lower bound and sub-exponential upper bound is enormous), so tagging the problem as open is defensible. A more precise tagging might mark the bounds as `solved` and have a separate open conjecture about closing the gap.

### 8. Natural number vs integer domain (MINOR)

The source says "integers" but the formalization uses `ℕ`. For squarefree sums, working in ℕ is natural since squarefree is typically defined for positive integers. The restriction to ℕ is reasonable.

## What a proper formalization would look like

The current formalization is already very close to ideal. Minor improvements:

```lean
-- The current formalization is essentially correct. One possible enhancement:
-- Mark the bounds as solved results rather than open, and add a separate
-- conjecture about the true growth rate.

-- Alternatively, if formalizing Konyagin's stronger finite-case bound:
@[category research open, AMS 11]
theorem squarefree_sumset_growth_lower_konyagin :
    ∀ ε > 0, ∀ (A : ℕ → ℕ), StrictMono A →
      (∀ i j, Squarefree (A i + A j)) →
        ∀ᶠ j in atTop, (A j : ℝ) ≥ (j : ℝ) ^ ((15 : ℝ) / 11 - ε) := by
  sorry
```

## Confidence: **88%**

The rewritten formalization is a major improvement over the original. Both theorems correctly model the source problem: the mathematical object (strictly monotone infinite sequence), the squarefree sumset condition, and the quantitative growth bounds all match the source. The lower bound captures the van Doorn-Tao result, and the upper bound captures the existence of a slowly-growing sequence. The only issues are minor: the `open` tag for proved results, and the omission of Konyagin's finite-case bound. The formalization faithfully represents the mathematical content of the problem.
