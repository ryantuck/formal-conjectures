# Review: Erdos Problem 1110

**Problem:** Representability using sums of powers of coprime integers
**Source:** [erdosproblems.com/1110](https://www.erdosproblems.com/1110)
**Status:** OPEN

## Source Problem

Let p > q >= 2 be coprime integers. An integer n is "representable" if it equals a sum of integers of the form p^k * q^l where no summand divides another. Erdos and Lewin proved that finitely many non-representable numbers exist if and only if {p,q} = {2,3}. For other coprime pairs {p,q} != {2,3}, are there infinitely many non-representable numbers? What is the density of non-representable numbers?

Yu and Chen established that representable numbers have zero density for most parameter pairs. They also proved infinitely many coprime non-representable numbers exist except in specific cases.

## Current Formalization

```lean
/-- A term of the form p^k * q^l -/
def pqTerm (p q : ℕ) : Set ℕ :=
  {n | ∃ k l : ℕ, n = p ^ k * q ^ l}

/-- A number is representable if it is a sum of elements from pqTerm
    such that no summand divides another -/
def Representable (p q : ℕ) (n : ℕ) : Prop :=
  ∃ (S : Finset ℕ), (↑S ⊆ pqTerm p q) ∧
    (∀ a ∈ S, ∀ b ∈ S, a ≠ b → ¬(a ∣ b)) ∧
    S.sum id = n

/-- For coprime p > q >= 2 with {p,q} != {2,3},
    the set of non-representable numbers is infinite -/
@[category research open, AMS 11]
theorem coprime_power_representation (p q : ℕ) (hq : 2 ≤ q) (hp : q < p)
    (hcop : Nat.Coprime p q) (hne : ¬((p = 2 ∧ q = 3) ∨ (p = 3 ∧ q = 2))) :
    {n : ℕ | ¬Representable p q n}.Infinite := by
  sorry
```

## Critical Analysis

### 1. Definition of pqTerm is correct (GOOD)

`pqTerm p q = {n | ∃ k l : ℕ, n = p ^ k * q ^ l}` correctly defines the set of numbers of the form p^k * q^l. This matches the source problem's building blocks.

### 2. Representable definition is correct (GOOD)

The `Representable` predicate correctly captures the source's definition: n is representable if it equals a sum of elements from pqTerm where no summand divides another. The antichain condition `∀ a ∈ S, ∀ b ∈ S, a ≠ b → ¬(a ∣ b)` correctly encodes the "no summand divides another" requirement. The sum `S.sum id = n` correctly requires the sum to equal n.

### 3. Hypothesis structure is correct (GOOD)

The hypotheses `2 ≤ q`, `q < p`, `Nat.Coprime p q` correctly capture the source's conditions p > q >= 2 and coprime. The order `q < p` matches p > q.

### 4. Exclusion of {2,3} case needs scrutiny (MODERATE)

The source says: finitely many non-representable numbers exist iff {p,q} = {2,3}. Since the theorem assumes p > q (via `q < p`), when {p,q} = {2,3} we must have p = 3 and q = 2. The exclusion condition `¬((p = 2 ∧ q = 3) ∨ (p = 3 ∧ q = 2))` includes the case (p = 2, q = 3), which cannot happen under the constraint q < p. So the first disjunct `p = 2 ∧ q = 3` is already impossible. While this is harmless (it's vacuously excluded), a cleaner formulation would simply be `¬(p = 3 ∧ q = 2)`. This is a style issue, not a correctness issue.

### 5. Conclusion matches the source (GOOD)

`{n : ℕ | ¬Representable p q n}.Infinite` asserts that infinitely many numbers are non-representable, which is the correct conclusion for the {p,q} != {2,3} case. The source states that for {p,q} = {2,3}, only finitely many non-representable numbers exist, while for other pairs, the question is whether infinitely many exist. The formalization asserts the affirmative for the non-{2,3} case.

### 6. Whether this is a theorem or conjecture (MODERATE concern)

The source says Erdos and Lewin proved that finitely many non-representable numbers exist if and only if {p,q} = {2,3}. This means the converse -- infinitely many non-representable numbers exist when {p,q} != {2,3} -- is already proved. If so, this should be tagged `research solved` rather than `research open`. However, the erdosproblems.com page is listed as OPEN, possibly because the finer questions about density and coprime non-representable numbers remain open. The formalization captures the "infinitely many" result (which may be solved) rather than the density question (which is open).

### 7. Missing the density question (MODERATE)

The source problem also asks about the density of non-representable numbers, and whether infinitely many coprime non-representable numbers exist. The formalization only captures the "infinitely many non-representable" aspect. The density question (whether representable numbers have density zero) and the coprime restriction are not formalized.

### 8. The empty set edge case (MINOR)

In the `Representable` definition, when `S` is empty, `S.sum id = 0`, so 0 is representable. This is a standard convention (empty sum = 0). Whether 0 should be considered "representable" is a matter of convention. The source likely considers positive integers, so this edge case is irrelevant.

### 9. pqTerm includes p^0 * q^0 = 1 (MINOR)

The set `pqTerm p q` includes 1 (take k = 0, l = 0). This is mathematically correct -- 1 is indeed of the form p^k * q^l. The source likely intends this as well.

## What a proper formalization would look like

The current formalization is quite good. To be more complete:

```lean
-- Current theorem is correct for the "infinitely many" result.
-- Could add:

/-- The set of non-representable numbers has natural density 1
    (representable numbers have density 0) for certain parameter ranges -/
@[category research open, AMS 11]
theorem coprime_power_representation_density (p q : ℕ) (hq : 2 ≤ q) (hp : q < p)
    (hcop : Nat.Coprime p q) (hne : ¬(p = 3 ∧ q = 2)) :
    Filter.Tendsto (fun N => ({n ∈ Finset.range N | Representable p q n}.card : ℝ) / N)
      Filter.atTop (nhds 0) := by
  sorry
```

## Confidence: **82%**

The rewritten formalization is a major improvement over the original. The key definitions (pqTerm, Representable) are correct and well-structured. The antichain condition, the sum condition, and the parameter constraints all match the source. The main concerns are: (1) the exclusion condition has a redundant disjunct, (2) the result may be a proved theorem rather than an open problem (the "open" tag may be misapplied), and (3) the density and coprime non-representable questions from the source are not captured. The core mathematical statement is faithful to the source.
