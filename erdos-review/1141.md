# Review: Erdos Problem 1141

**Problem:** Infinitely many n with n - k² prime for coprime k
**Source:** [erdosproblems.com/1141](https://www.erdosproblems.com/1141)
**Status:** OPEN

## Source Problem

Are there infinitely many integers n such that n - k² is prime for all k where gcd(n, k) = 1 and k² < n?

Known: The largest known such n is 1722 (OEIS A214583). ChatGPT and Tang established an upper bound: the number of such n in [1, N] is at most N^{1/2+o(1)}.

## Current Formalization

```lean
@[category research open, AMS 11]
theorem infinitely_many_n_prime_shift :
    Set.Infinite {n : ℕ | ∀ k : ℕ, k^2 < n → Nat.Coprime k n →
      (n - k^2).Prime} := by
  sorry
```

## Critical Analysis

### 1. The condition on k is correct (GOOD)

`∀ k : ℕ, k^2 < n → Nat.Coprime k n → (n - k^2).Prime` correctly encodes: for all k with k² < n and gcd(k, n) = 1, the value n - k² is prime. The ordering of hypotheses (k² < n first, then coprimality) is fine since both are needed. The ℕ subtraction is safe because k² < n guarantees n - k² > 0.

### 2. Asserted as fact rather than open question (CRITICAL)

The formalization states `Set.Infinite {...}` as a theorem — asserting the set IS infinite. However, this is an OPEN problem. The correct formalization should use `answer(sorry) ↔ Set.Infinite {...}` to indicate the answer is unknown. As written, the formalization presupposes the affirmative answer, which has not been established. If the answer turns out to be negative (finitely many such n), the statement would be false.

### 3. Coprimality direction (GOOD)

`Nat.Coprime k n` in Mathlib is defined as `Nat.gcd k n = 1`, which is symmetric and matches the source's gcd(n, k) = 1.

### 4. Category tag is correct (GOOD)

`@[category research open, AMS 11]` correctly marks this as an open problem in number theory.

### 5. Missing known solutions or density bound (MINOR)

The source mentions the largest known n is 1722 and that the count up to N is O(N^{1/2+o(1)}). These could be formalized as additional theorems but their absence is not critical.

## What a proper formalization would look like

```lean
@[category research open, AMS 11]
theorem infinitely_many_n_prime_shift :
    answer(sorry) ↔ Set.Infinite {n : ℕ | ∀ k : ℕ, k^2 < n → Nat.Coprime k n →
      (n - k^2).Prime} := by
  sorry
```

The key fix is wrapping with `answer(sorry) ↔` to reflect the open status.

## Confidence: **60%**

The mathematical content of the set definition is correct: the condition on k (coprime to n, k² < n) and the primality requirement match the source. The critical issue is that the statement asserts infiniteness as a fact for an open problem, rather than using the `answer(sorry)` pattern. This is a significant structural error that misrepresents the problem's status. Fixing this single issue would bring confidence to ~88%.
