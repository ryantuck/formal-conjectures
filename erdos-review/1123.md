# Review: Erdos Problem 1123

**Problem:** Boolean algebra isomorphism (density vs logarithmic density)
**Source:** [erdosproblems.com/1123](https://www.erdosproblems.com/1123)
**Status:** OPEN (independence from ZFC suspected)

## Source Problem

Let B_1 be the Boolean algebra of sets of integers modulo sets of density 0, and B_2 be the Boolean algebra of sets modulo sets of logarithmic density 0. Prove that B_1 and B_2 are not isomorphic.

Under the Continuum Hypothesis, Just and Krawczyk (1984) proved the algebras ARE isomorphic. Without CH, the question remains open. Erdos offered $100 for either a proof or disproof.

## Current Formalization

```lean
@[category research open, AMS 03]
theorem boolean_algebra_isomorphism :
    let B1 : Type := sorry  -- Boolean algebra mod density-zero sets
    let B2 : Type := sorry  -- Boolean algebra mod log-density-zero sets
    answer(sorry) ↔ ∀ [BooleanAlgebra B1] [BooleanAlgebra B2],
      ¬ Nonempty (B1 ≃o B2) := by
  sorry
```

## Critical Analysis

### 1. Correct high-level question (POSITIVE)

The formalization correctly asks whether B1 and B2 are non-isomorphic as ordered structures, using `¬ Nonempty (B1 ≃o B2)`. The `answer(sorry)` wrapper is appropriate given the open/independence status.

### 2. B1 and B2 are defined as sorry (CRITICAL)

Both `B1` and `B2` are defined as `sorry`, meaning they are not actually constructed. The comments say "Boolean algebra mod density-zero sets" and "Boolean algebra mod log-density-zero sets," but the actual mathematical objects are completely absent. The types are opaque -- there is no definition of:
- Natural density: d(A) = lim_{n->inf} |A intersect {1,...,n}| / n
- Logarithmic density: delta(A) = lim_{n->inf} (1/log(n)) * sum_{k in A, k <= n} 1/k
- The ideals of sets with density zero / log-density zero
- The quotient Boolean algebras P(N)/I_d and P(N)/I_logd

Without these definitions, the statement has no mathematical content. It says "for some unknown types B1, B2 with some unknown BooleanAlgebra structures, they are not order-isomorphic." This is vacuously dependent on what sorry produces.

### 3. Universal quantification over BooleanAlgebra instances is wrong (MODERATE)

The statement `∀ [BooleanAlgebra B1] [BooleanAlgebra B2], ¬ Nonempty (B1 ≃o B2)` quantifies over ALL possible BooleanAlgebra instances on B1 and B2. But B1 and B2 should have specific, unique BooleanAlgebra structures inherited from the quotient construction. The universal quantifier means: "for every way of putting a BooleanAlgebra structure on these types, they are non-isomorphic." This is stronger than intended and likely false (one could put trivial BooleanAlgebra structures on both types that happen to be isomorphic).

The correct statement would use the specific BooleanAlgebra structure that arises from the quotient, not quantify over all possible structures.

### 4. Independence issue acknowledged but not addressed (MINOR)

The docstring correctly notes that under CH the algebras are isomorphic (Just and Krawczyk 1984). This means the statement `¬ Nonempty (B1 ≃o B2)` is actually false under CH and true under not-CH. The `answer(sorry)` wrapper is reasonable here since the answer depends on the set-theoretic universe. However, this makes the problem fundamentally un-formalizable in a standard way within Lean's type theory (which does not natively distinguish CH from not-CH).

### 5. Proper mathematical content is entirely delegated to sorry (CRITICAL)

The core of this problem is the definition of the two quotient Boolean algebras. Without those definitions, the formalization is essentially a placeholder. The `sorry` in the type definitions means the Lean type checker cannot verify anything about the statement.

## What a proper formalization would look like

```lean
-- Define the ideal of density-zero sets
noncomputable def densityZeroSets : Set (Set ℕ) :=
  {A | Filter.Tendsto (fun n : ℕ =>
    ((Finset.filter (· ∈ A) (Finset.range n)).card : ℝ) / (n : ℝ))
    Filter.atTop (nhds 0)}

-- Define the ideal of log-density-zero sets
noncomputable def logDensityZeroSets : Set (Set ℕ) :=
  {A | Filter.Tendsto (fun n : ℕ =>
    (1 / Real.log n) * ∑ k ∈ Finset.filter (· ∈ A) (Finset.range n), (1 / (k : ℝ)))
    Filter.atTop (nhds 0)}

-- Define the quotient types and their BooleanAlgebra instances
-- (This requires showing the density-zero sets form an ideal in the Boolean algebra P(N))
-- Then:
@[category research open, AMS 03]
theorem boolean_algebra_isomorphism :
    answer(sorry) ↔ ¬ Nonempty (B1 ≃o B2) := by
  sorry
```

The key improvement is actually constructing B1 and B2 as quotient types with their canonical BooleanAlgebra structures, rather than using sorry for the types.

## Confidence: **15%**

The formalization captures the high-level intent: asking whether two specific Boolean algebras are non-isomorphic. However, both algebras are defined as `sorry`, making the statement mathematically vacuous. The universal quantification over BooleanAlgebra instances is also incorrect. The problem is inherently difficult to formalize (requiring quotient Boolean algebras by density ideals, which are non-trivial constructions), and the current version is essentially a well-commented placeholder rather than a real formalization.
