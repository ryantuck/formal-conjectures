# Review: Erdos Problem 1117

**Problem:** Maximum modulus points on circles for entire functions
**Source:** [erdosproblems.com/1117](https://www.erdosproblems.com/1117)
**Status:** OPEN (Question 1 answered affirmatively by Herzog-Piranian; Question 2 remains open)

## Source Problem

Let f(z) be an entire function that is not a monomial. Define nu(r) as the number of points z with |z| = r where |f(z)| achieves its maximum on that circle, i.e., |f(z)| = M(r) = max_{|w|=r} |f(w)|.

Two questions:
1. Can lim sup nu(r) = infinity? (Yes, by Herzog and Piranian)
2. Can lim inf nu(r) = infinity? (Open)

## Current Formalization

```lean
theorem entire_functions_circle_maxima :
    answer(sorry) ↔
      ∃ (f : ℂ → ℂ), Differentiable ℂ f ∧
        (¬∃ (c : ℂ) (n : ℕ), ∀ z, f z = c * z ^ n) ∧
        Filter.Tendsto
          (fun r : ℝ => Nat.card {z : ℂ | ‖z‖ = r ∧
            ‖f z‖ = ⨆ (w : ℂ) (_ : ‖w‖ = r), ‖f w‖})
          Filter.atTop Filter.atTop := by
  sorry
```

## Critical Analysis

### 1. Correct problem identification (POSITIVE)

The rewrite correctly identifies and formalizes the OPEN question (Question 2: lim inf nu(r) = infinity), not the already-solved Question 1. This is appropriate since only unsolved questions should use `answer(sorry)`.

### 2. Non-monomial condition is correct (POSITIVE)

The condition `¬∃ (c : ℂ) (n : ℕ), ∀ z, f z = c * z ^ n` correctly excludes monomials. For a monomial f(z) = c*z^n with c != 0, every point on any circle achieves the maximum modulus, so nu(r) = infinity trivially. The exclusion is necessary and correctly formalized.

### 3. Filter.Tendsto to atTop captures lim inf = infinity (POSITIVE)

`Filter.Tendsto (fun r => nu(r)) Filter.atTop Filter.atTop` means that nu(r) -> infinity as r -> infinity, which is equivalent to lim inf nu(r) = infinity (since Tendsto along atTop means eventually above any bound, which is exactly lim inf = infinity). This correctly captures Question 2.

### 4. Nat.card of circle maximum set (MODERATE)

The expression `Nat.card {z : ℂ | ‖z‖ = r ∧ ‖f z‖ = ⨆ (w : ℂ) (_ : ‖w‖ = r), ‖f w‖}` counts the number of maximum modulus points on the circle of radius r. For a non-monomial entire function, this set is finite for each r (by the maximum modulus principle and analyticity), so `Nat.card` should give the correct finite count. However, there are edge cases:

- For r = 0: The circle is just {0}, so nu(0) = 1 (or 0 if r < 0). Since we're taking the limit as r -> infinity, this doesn't matter.
- If the set is infinite for some r, `Nat.card` returns 0. For non-monomial entire functions, this shouldn't happen for positive r.
- If the set is empty (r < 0), `Nat.card` returns 0. Again, the limit only cares about large r.

### 5. iSup over non-compact type (MODERATE)

The expression `⨆ (w : ℂ) (_ : ‖w‖ = r), ‖f w‖` takes the supremum of ||f w|| over all w on the circle of radius r. This is mathematically well-defined (the circle is compact and ||f|| is continuous, so the sup is attained). In Lean, `iSup` over a nonempty bounded set in ℝ should work, but the expression uses a dependent iSup over (w : ℂ) (_ : ‖w‖ = r). If r < 0, the set is empty, and iSup of an empty set in ℝ is ⊥ = 0 (in the conditionally complete lattice). For r >= 0, the set is nonempty (and for r > 0, it's a genuine circle). This is fine for the statement since we only care about the limit as r -> infinity.

### 6. answer(sorry) usage is correct (POSITIVE)

Since Question 2 is open, `answer(sorry)` is the correct elaborator. The biconditional structure is standard for open yes/no questions.

### 7. Entire function condition (POSITIVE)

`Differentiable ℂ f` correctly captures that f is an entire function (holomorphic on all of C).

### 8. Potential Nat.card vs Fintype issue (MINOR)

As with Problem 1116, `Nat.card` on a subtype requires `Fintype` to give a meaningful count. For a non-monomial entire function, the maximum modulus set on each circle is finite, but establishing this as a `Fintype` instance in Lean may require nontrivial work. This is a proof-level concern.

## What a proper formalization would look like

The current formalization is essentially correct. A minor improvement might be to use `sSup` on a set rather than `iSup` on a dependent type:

```lean
theorem entire_functions_circle_maxima :
    answer(sorry) ↔
      ∃ (f : ℂ → ℂ), Differentiable ℂ f ∧
        (¬∃ (c : ℂ) (n : ℕ), ∀ z, f z = c * z ^ n) ∧
        Filter.Tendsto
          (fun r : ℝ => Nat.card {z : ℂ | ‖z‖ = r ∧
            ‖f z‖ = ⨆ (w : ℂ) (_ : ‖w‖ = r), ‖f w‖})
          Filter.atTop Filter.atTop := by
  sorry
```

This is essentially the same as the current version. The formalization is good.

## Confidence: **80%**

The formalization correctly captures the open question (Question 2) about lim inf nu(r) = infinity for non-monomial entire functions. The quantifier structure is correct, the non-monomial exclusion is properly stated, and Filter.Tendsto to atTop correctly encodes lim inf = infinity. The main concerns are minor technical issues with Nat.card requiring Fintype instances and the iSup over a dependent type, but these are proof-level concerns rather than statement-level errors. This is a strong formalization.
