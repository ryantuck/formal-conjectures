# Review: Erdos Problem 1106

**Problem:** Prime factors of products of partition numbers
**Source:** [erdosproblems.com/1106](https://www.erdosproblems.com/1106)
**Status:** OPEN

## Source Problem

Let p(n) be the partition function and F(n) = number of distinct prime factors of prod_{k=1}^{n} p(k).

Two questions:
1. Does F(n) -> infinity as n -> infinity?
2. Is F(n) > n for all sufficiently large n?

Known: Schinzel-Wirsing proved F(n) >> log n. Schinzel showed F(n) -> infinity follows from known asymptotic formulas. Ono showed every prime divides p(n) for some n >= 1.

## Current Formalization

```lean
def p : ℕ → ℕ := fun n => Fintype.card (Nat.Partition n)

theorem erdos_1106 :
    Tendsto (fun n => #(∏ i ∈ Icc 1 n, p i).primeFactors) atTop atTop := by sorry

theorem erdos_1106_k2 :
    ∀ᶠ n in atTop, #(∏ i ∈ Icc 1 n, p i).primeFactors > n := by sorry
```

## Critical Analysis

### 1. Partition function definition is correct (OK)

`Fintype.card (Nat.Partition n)` gives the number of partitions of n, which matches p(n). This is the standard Mathlib way to access the partition function.

### 2. F(n) is correctly defined inline (OK)

The expression `#(∏ i ∈ Icc 1 n, p i).primeFactors` computes the number of distinct prime factors of the product p(1) * p(2) * ... * p(n). The `#` notation gives the cardinality of the `Finset` of prime factors. This correctly captures F(n).

### 3. Question 1: F(n) -> infinity (OK)

`Tendsto (fun n => F(n)) atTop atTop` correctly states that F(n) tends to infinity. This matches question 1.

### 4. Question 2: F(n) > n for large n (OK)

`∀ᶠ n in atTop, F(n) > n` correctly states "F(n) > n for all sufficiently large n." This matches question 2.

### 5. Status annotation correctly says OPEN (OK)

Both theorems use `@[category research open, AMS 11]`, consistent with the source.

### 6. Theorems directly assert conjectures (MINOR)

Both theorems directly assert the conjectured statements without `answer(sorry)`. Since Erdos is asking whether these hold (and there is strong evidence they do), directly asserting them is a reasonable choice. However, for the first question, Schinzel apparently showed it follows from known results, which might mean it is effectively resolved. The source page still marks the overall problem as OPEN.

### 7. Product over Icc vs range (MINOR)

The product uses `Icc 1 n`, which gives {1, 2, ..., n}. Since p(0) = 1 (there is exactly one partition of 0, the empty partition), including or excluding 0 does not affect the product. So `Icc 1 n` vs `range (n+1)` would give the same prime factors. The choice is fine.

### 8. The `#` notation for Finset.card (OK)

Using `#s` for `s.card` is standard Lean/Mathlib notation for the cardinality of a finite set. This is clear and correct.

## What a proper formalization would look like

The current formalization is excellent. It could optionally include the known lower bound:

```lean
/-- Schinzel-Wirsing: F(n) >> log n. -/
@[category research solved, AMS 11]
theorem erdos_1106_lower_bound :
    ∃ c > 0, ∀ᶠ n in atTop,
      c * Real.log n ≤ #(∏ i ∈ Icc 1 n, p i).primeFactors := by sorry
```

## Confidence: **92%**

This is an excellent formalization. The partition function is correctly defined, F(n) is properly computed as the number of distinct prime factors of the product, both questions are faithfully translated with correct quantifier structures, and the status is correctly marked. The only minor issues are the direct assertion of conjectures without `answer(sorry)` and the absence of the known lower bound F(n) >> log n.
