# Review: Erdos Problem 1167

**File:** `FormalConjectures/ErdosProblems/1167.lean`
**Source:** [erdosproblems.com/1167](https://www.erdosproblems.com/1167)
**Status:** OPEN

## Original Problem

For finite $r \geq 2$, infinite cardinal $\lambda$, and cardinals $\kappa_\alpha$ ($\alpha < \gamma$), does the following implication hold?

$$2^\lambda \to (\kappa_\alpha + 1)^{r+1}_{\alpha < \gamma} \implies \lambda \to (\kappa_\alpha)^r_{\alpha < \gamma}$$

This is a "stepping-up lemma" question: does a partition relation on $2^\lambda$ with exponent $r+1$ imply a corresponding relation on $\lambda$ with exponent $r$?

## Current Formalization

```lean
def PartitionRelation (α : Type*) (r : ℕ) (γ : Type*) (targets : γ → Type*) : Prop :=
  ∀ (coloring : Finset α → γ),
    ∃ (color : γ) (H : Set α),
      (∃ (f : targets color → α), Function.Injective f ∧ Set.range f ⊆ H) ∧
      ∀ (s : Finset α), s.card = r → (↑s : Set α) ⊆ H → coloring s = color

theorem partition_relation_implication :
    ∀ (r : ℕ), r ≥ 2 →
    ∀ (kappa : Type*) [Infinite kappa] (gamma : Type*) (kappa_targets : gamma → Type*),
      PartitionRelation (Set kappa) (r + 1) gamma (fun α => Sum (kappa_targets α) Unit) →
      PartitionRelation kappa r gamma kappa_targets := by
  sorry
```

## Analysis

### What the formalization captures

| Aspect | Captured? | Notes |
|--------|-----------|-------|
| Statement format | Yes | Direct implication — appropriate for "Does X imply Y?" |
| Stepping-up structure | Yes | `Set kappa` with $r+1$ implies `kappa` with $r$ |
| $2^\lambda$ encoding | Yes | `Set kappa` has cardinality $2^{|\kappa|}$ |
| $\kappa_\alpha + 1$ encoding | Yes | `Sum (kappa_targets α) Unit` adds one element |
| $r \geq 2$ | Yes | `r ≥ 2` |
| Infinite base cardinal | Yes | `[Infinite kappa]` |
| Category/AMS tag | Yes | `@[category research open, AMS 03]` |

### Issues

1. **Universal quantification over types instead of specific cardinalities:** The formalization says `∀ (kappa : Type*) [Infinite kappa]`, meaning the implication must hold for ALL infinite types. The original problem asks about infinite *cardinals*, which is a more restricted domain. This makes the formalized statement potentially stronger than the original.

2. **$\kappa_\alpha + 1 = \kappa_\alpha$ for infinite $\kappa_\alpha$:** The original source notes that for infinite cardinals, $\kappa_\alpha + 1 = \kappa_\alpha$. In type theory, `Sum (kappa_targets α) Unit` genuinely has one more element. This is a minor discrepancy: the type-theoretic version is slightly different from the cardinal-arithmetic version, but for the purpose of the partition relation (which only cares about the existence of injections), the difference disappears when `kappa_targets α` is infinite.

3. **PartitionRelation colors all finsets:** The coloring domain is `Finset α → γ`, not just $r$-element subsets. The monochromatic condition restricts to `s.card = r`, so this is equivalent: any coloring of all finsets restricts to a coloring of $r$-element subsets, and conversely any coloring of $r$-element subsets extends arbitrarily.

4. **Question format consideration:** The original asks "Does ... imply ...?" which could warrant `answer(sorry) ↔`. However, stating the implication directly as a theorem to prove is also a valid approach — it's asking to prove a mathematical statement, not a yes/no question.

### Good aspects

- **Best formalization in the 1160-1169 batch.** Not trivially true — the implication has genuine content.
- The type-theoretic encodings (`Set kappa` for $2^\lambda$, `Sum ... Unit` for $+1$) are creative and reasonable.
- The PartitionRelation definition is clear and reusable.

## Verdict

**Confidence: 40%**

This is the strongest formalization in this range. The stepping-up structure (power set source, $r+1 \to r$ exponent, $+1$ targets) is faithfully encoded. The main gap is the universal quantification over all infinite types rather than specific cardinalities, which makes the statement potentially too strong. The PartitionRelation definition is a reasonable approximation of the standard notion.
