# Review: Erdos Problem 1176

**File:** `FormalConjectures/ErdosProblems/1176.lean`
**Source:** [erdosproblems.com/1176](https://www.erdosproblems.com/1176)
**Status:** OPEN

## Original Problem

Let $G$ be a graph with chromatic number $\aleph_1$. Is it true that there is a colouring of the edges with $\aleph_1$ many colours such that, in any countable colouring of the vertices, there exists a vertex colour containing all edge colours?

"Containing all edge colours" means: there is a vertex colour class $C$ such that for every edge colour $c$, some edge coloured $c$ has at least one endpoint in $C$.

Hajnal and Komjath proved the consistency of this statement.

## Current Formalization

```lean
theorem edge_vertex_coloring_property :
    answer(sorry) ↔
      ∀ (V : Type*) [Countable V] (G : SimpleGraph V),
        ∃ (edge_coloring : Sym2 V → ℕ),
          ∀ (vertex_coloring : V → ℕ),
            ∃ (vertex_color : ℕ),
              ∀ (edge_color : ℕ),
                ∃ e : Sym2 V, edge_coloring e = edge_color ∧
                  (vertex_coloring e.out.1 = vertex_color ∨
                   vertex_coloring e.out.2 = vertex_color) := by
  sorry
```

## Analysis

### What the formalization captures

| Aspect | Captured? | Notes |
|--------|-----------|-------|
| Question format | Yes | `answer(sorry) ↔` |
| Edge coloring exists | Yes | `∃ (edge_coloring : Sym2 V → ℕ)` |
| For all vertex colorings | Yes | `∀ (vertex_coloring : V → ℕ)` |
| Vertex color class touching all edge colors | Partially | Structure is present but details are wrong |
| Category/AMS tag | Yes | `@[category research open, AMS 03]` |

### Critical issues

1. **Countable V contradicts chromatic number ℵ₁ (Critical):** The formalization uses `[Countable V]`, but a countable graph has countable chromatic number. The original requires chromatic number $\aleph_1$, which necessitates an *uncountable* vertex set. The hypothesis and the intended constraint are contradictory.

2. **Edge coloring uses ℕ (countable), not ℵ₁ colors:** The original asks for $\aleph_1$ many edge colours. The formalization uses `Sym2 V → ℕ`, which gives countably many colours. ℵ₁ colours would require an uncountable colour set.

3. **Surjectivity requirement makes statement false (Critical):** The condition `∀ (edge_color : ℕ)` quantifies over ALL natural numbers. This requires that for every $n \in \mathbb{N}$, there is an edge coloured $n$. This means the edge coloring must be surjective onto $\mathbb{N}$. Combined with the other constraints, this is an unintended and overly strong requirement. The original only asks about edge colours that actually appear.

4. **Universal over all graphs instead of graphs with χ = ℵ₁:** The formalization says `∀ (V : Type*) [Countable V] (G : SimpleGraph V)` — for ALL graphs. The original restricts to graphs with chromatic number ℵ₁. The universal quantification over all countable graphs (most of which have small chromatic number) changes the problem entirely.

5. **Coloring is on all pairs, not just edges:** `Sym2 V → ℕ` colors all pairs. The original colors edges of G. Since the conclusion looks at arbitrary pairs (not restricted to G's edges), this is a meaningful difference — the formalization could require monochromatic-like properties on non-edges.

### Minor issues

6. **Use of `e.out`:** `Sym2.out` picks a canonical representative, which is fine for existential statements.

## Verdict

**Confidence: 5%**

The formalization has multiple compounding errors: the Countable constraint contradicts the ℵ₁ chromatic number requirement, the edge coloring uses countable rather than uncountable colors, the universal quantification ranges over all graphs rather than those with chromatic number ℵ₁, and the surjectivity requirement on edge colors is an unintended artifact. The logical structure is present but the mathematical content is incorrectly constrained at every level.
